---

title: Templates


keywords: fastai
sidebar: home_sidebar

summary: "Templates are used to define chemical spaces using easily calculable properties"
description: "Templates are used to define chemical spaces using easily calculable properties"
nb_path: "nbs/03_templates.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03_templates.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>//anaconda3/envs/insight/lib/python3.6/importlib/_bootstrap.py:219: RuntimeWarning: to-Python converter for boost::shared_ptr&lt;RDKit::FilterCatalogEntry const&gt; already registered; second conversion method ignored.
  return f(*args, **kwds)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Property-Functions">Property Functions<a class="anchor-link" href="#Property-Functions"> </a></h2><p><a href="/mrl/templates.html#PropertyFunction"><code>PropertyFunction</code></a> classes serve two basic purposes. The <code>calc_property</code> function computes some function of a <code>Mol</code> object. The <code>criteria</code> function takes the output of <code>calc_property</code> and converts it to a boolean value.</p>
<p>Property functions and classes that use property functions follow the convention that <code>True</code> means the input <code>Mol</code> has passed the <code>criteria</code> function, while <code>False</code> means the <code>Mol</code> has failed the <code>criteria</code>.</p>
<p>This is important to keep in mind for substructure matching. Substructure matching with <a href="/mrl/chem.html#Catalog"><code>Catalog</code></a> classes follows return <code>True</code> when a substructure match is found. If this is the desired behavior (ie validating a desired struture is the <code>Mol</code>), use the <a href="/mrl/templates.html#SmartsMatch"><code>SmartsMatch</code></a> class as a property function. If the opposite behavior is desired (ie excluding structures that match a filter), use the <a href="/mrl/templates.html#ExclusionMatch"><code>ExclusionMatch</code></a> property function which returns <code>False</code> when matches are found and <code>True</code> when no matches are found</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="PropertyFunction" class="doc_header"><code>class</code> <code>PropertyFunction</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L16" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>PropertyFunction</code>()</p>
</blockquote>
<p>PropertyFunction - base class for property functions.</p>
<p>When subclassing, define the <code>calc_property</code> and <code>criteria</code> functions</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="MolProperty" class="doc_header"><code>class</code> <code>MolProperty</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L34" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>MolProperty</code>(<strong><code>mol_function</code></strong>) :: <a href="/mrl/templates.html#PropertyFunction"><code>PropertyFunction</code></a></p>
</blockquote>
<p>MolProperty - base property class for all properties that can be computed as <code>mol_function(mol)</code></p>
<p>ex: prop_func = MolProperty(molwt)</p>
<p>note that the <code>criteria</code> function is not defined here</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RangeProperty" class="doc_header"><code>class</code> <code>RangeProperty</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L50" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RangeProperty</code>(<strong><code>mol_function</code></strong>, <strong><code>min_val</code></strong>=<em><code>None</code></em>, <strong><code>max_val</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#MolProperty"><code>MolProperty</code></a></p>
</blockquote>
<p>RangeProperty - class for calculating properties and evaluating them within a defined range</p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> and returns a numeric value
    <code>min_val</code> - float, None, minimum value. Ignored if None
    <code>max_val</code> - float, None, maximum value. Ignored if None</p>
<p>If <code>min_val</code> and <code>max_val</code> are both None, <code>criteria</code> will always return True</p>
<p>prop_func = RangeProperty(molwt, 100, 300)
prop_func(to_mol('O=C(C)Oc1ccccc1C(=O)O'))</p>
<blockquote><blockquote><p>True</p>
</blockquote>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">prop_func</span> <span class="o">=</span> <span class="n">RangeProperty</span><span class="p">(</span><span class="n">molwt</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">prop_func</span><span class="p">(</span><span class="n">to_mol</span><span class="p">(</span><span class="s1">&#39;O=C(C)Oc1ccccc1C(=O)O&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="kc">True</span>

<span class="n">prop_func</span> <span class="o">=</span> <span class="n">RangeProperty</span><span class="p">(</span><span class="n">molwt</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">prop_func</span><span class="p">(</span><span class="n">to_mol</span><span class="p">(</span><span class="s1">&#39;O=C(C)Oc1ccccc1C(=O)O&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="kc">False</span>

<span class="n">prop_func</span> <span class="o">=</span> <span class="n">RangeProperty</span><span class="p">(</span><span class="n">molwt</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">prop_func</span><span class="p">(</span><span class="n">to_mol</span><span class="p">(</span><span class="s1">&#39;O=C(C)Oc1ccccc1C(=O)O&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="SmartsMatch" class="doc_header"><code>class</code> <code>SmartsMatch</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L80" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>SmartsMatch</code>(<strong><code>catalog</code></strong>, <strong><code>crit</code></strong>=<em><code>'any'</code></em>) :: <a href="/mrl/templates.html#PropertyFunction"><code>PropertyFunction</code></a></p>
</blockquote>
<p>SmartsMatch - class for substructure matching a <code>Mol</code> against a <a href="/mrl/chem.html#Catalog"><code>Catalog</code></a></p>
<p>Inputs:
    <code>catalog</code> - a subclass of <a href="/mrl/chem.html#Catalog"><code>Catalog</code></a>
    <code>crit</code> - str ('any', 'all'). If any, will return True if any structure in <code>catalog</code> matches the <code>Mol</code>.</p>
<p>catalog = PAINSACatalog()
prop_func = SmartsMatch(catalog, crit='any')
prop_func(to_mol('O=C(Cn1cnc2c1c(=O)n(C)c(=O)n2C)N/N=C/c1c(O)ccc2c1cccc2'))</p>
<blockquote><blockquote><p>True</p>
</blockquote>
</blockquote>
<p>prop_func = SmartsMatch(catalog, crit='all')
prop_func(to_mol('O=C(Cn1cnc2c1c(=O)n(C)c(=O)n2C)N/N=C/c1c(O)ccc2c1cccc2'))</p>
<blockquote><blockquote><p>False</p>
</blockquote>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SmartsMatch.from_smarts" class="doc_header"><code>SmartsMatch.from_smarts</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L117" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SmartsMatch.from_smarts</code>(<strong><code>smarts</code></strong>, <strong><code>crit</code></strong>=<em><code>'any'</code></em>)</p>
</blockquote>
<p>Returns a <a href="/mrl/templates.html#SmartsMatch"><code>SmartsMatch</code></a> object with a <a href="/mrl/chem.html#SmartsCatalog"><code>SmartsCatalog</code></a> from the given <code>smarts</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ExclusionMatch" class="doc_header"><code>class</code> <code>ExclusionMatch</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L126" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ExclusionMatch</code>(<strong><code>catalog</code></strong>, <strong><code>crit</code></strong>=<em><code>'any'</code></em>) :: <a href="/mrl/templates.html#SmartsMatch"><code>SmartsMatch</code></a></p>
</blockquote>
<p>ExclusionMatch - class for exclusion matching a <code>Mol</code> against a <a href="/mrl/chem.html#Catalog"><code>Catalog</code></a>.
Returns <code>False</code> when <code>Mol</code> matches one of the filters in <a href="/mrl/chem.html#Catalog"><code>Catalog</code></a></p>
<p>Inputs:
    <code>catalog</code> - a subclass of <a href="/mrl/chem.html#Catalog"><code>Catalog</code></a>
    <code>crit</code> - str ('any', 'all'). If any, will return True if any structure in <code>catalog</code> matches the <code>Mol</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">smarts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;[*]-[#6]1:[#6]:[#6](-[#0]):[#6]:[#6](-[*]):[#6]:1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;[*]-[#6]1:[#6]:[#6](-[*]):[#6]:[#6]:[#6]:1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;[*]-[#6]1:[#6]:[#6]:[#6]:[#6]:[#6]:1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;[*]-[#6]1:[#6]:[#6](-[#7]-[*]):[#6]:[#6]:[#6]:1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;[#6]1:[#6]:[#7]:[#6]:[#6]:[#6]:1&#39;</span>
<span class="p">]</span>

<span class="n">smiles</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;c1ccccc1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Cc1cc(NC)ccc1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Cc1cc(NC)cnc1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Cc1cccc(NCc2ccccc2)c1&#39;</span>
<span class="p">]</span>

<span class="n">mols</span> <span class="o">=</span> <span class="p">[</span><span class="n">to_mol</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">smiles</span><span class="p">]</span>

<span class="n">prop_func</span> <span class="o">=</span> <span class="n">SmartsMatch</span><span class="o">.</span><span class="n">from_smarts</span><span class="p">(</span><span class="n">smarts</span><span class="p">,</span> <span class="n">crit</span><span class="o">=</span><span class="s1">&#39;any&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">prop_func</span><span class="p">(</span><span class="n">mols</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="kc">True</span>

<span class="n">catalog</span> <span class="o">=</span> <span class="n">SmartsCatalog</span><span class="p">(</span><span class="n">smarts</span><span class="p">)</span>
<span class="n">prop_func</span> <span class="o">=</span> <span class="n">SmartsMatch</span><span class="p">(</span><span class="n">catalog</span><span class="p">,</span> <span class="n">crit</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">prop_func</span><span class="p">(</span><span class="n">mols</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="kc">False</span>

<span class="n">prop_func</span> <span class="o">=</span> <span class="n">ExclusionMatch</span><span class="o">.</span><span class="n">from_smarts</span><span class="p">(</span><span class="n">smarts</span><span class="p">,</span> <span class="n">crit</span><span class="o">=</span><span class="s1">&#39;any&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">prop_func</span><span class="p">(</span><span class="n">mols</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="kc">False</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="FingerprintSimilarity" class="doc_header"><code>class</code> <code>FingerprintSimilarity</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L140" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>FingerprintSimilarity</code>(<strong><code>reference_fps</code></strong>, <strong><code>fp_type</code></strong>, <strong><code>fp_metric</code></strong>, <strong><code>crit</code></strong>=<em><code>'any'</code></em>, <strong><code>fp_thresh</code></strong>=<em><code>0.0</code></em>) :: <a href="/mrl/templates.html#PropertyFunction"><code>PropertyFunction</code></a></p>
</blockquote>
<p>PropertyFunction - base class for property functions.</p>
<p>When subclassing, define the <code>calc_property</code> and <code>criteria</code> functions</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fp_sim</span> <span class="o">=</span> <span class="n">FingerprintSimilarity</span><span class="o">.</span><span class="n">from_smiles</span><span class="p">(</span><span class="n">smiles</span><span class="p">,</span> <span class="n">fp_thresh</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">fp_sim</span><span class="p">(</span><span class="n">mols</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">fp_sim</span> <span class="o">=</span> <span class="n">FingerprintSimilarity</span><span class="o">.</span><span class="n">from_smiles</span><span class="p">(</span><span class="n">mols</span><span class="p">,</span> <span class="n">fp_thresh</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">fp_sim</span><span class="p">(</span><span class="n">mols</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Score-Functions">Score Functions<a class="anchor-link" href="#Score-Functions"> </a></h2><p><a href="/mrl/templates.html#ScoreFunction"><code>ScoreFunction</code></a> classes take the results of a <a href="/mrl/templates.html#PropertyFunction"><code>PropertyFunction</code></a> (both <code>calc_property</code> and <code>criteria</code>) and return a numeric score.</p>
<p><a href="/mrl/templates.html#ConstantScore"><code>ConstantScore</code></a> returns a standard value based on if the <code>criteria_output</code> is <code>True</code> or <code>False</code>. For more sophisticated scores like those seen in MPO functions, something like <a href="/mrl/templates.html#LinearDecayScore"><code>LinearDecayScore</code></a> can be used, which returns a constant score within a certain range, but decays the score outside that range.</p>
<p><a href="/mrl/templates.html#ScoreFunction"><code>ScoreFunction</code></a> can be subclassed with any variant that takes as input <code>property_output</code> and <code>criteria_output</code> and returns a numeric value</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ScoreFunction" class="doc_header"><code>class</code> <code>ScoreFunction</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L177" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ScoreFunction</code>()</p>
</blockquote>
<p>Base score function</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="NoScore" class="doc_header"><code>class</code> <code>NoScore</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L182" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>NoScore</code>() :: <a href="/mrl/templates.html#ScoreFunction"><code>ScoreFunction</code></a></p>
</blockquote>
<p>Pass through for no score</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ConstantScore" class="doc_header"><code>class</code> <code>ConstantScore</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L187" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ConstantScore</code>(<strong><code>pass_score</code></strong>, <strong><code>fail_score</code></strong>=<em><code>0.0</code></em>) :: <a href="/mrl/templates.html#ScoreFunction"><code>ScoreFunction</code></a></p>
</blockquote>
<p>ConstantScore - returns <code>pass_score</code> if <code>criteria_output=True</code>, else `fail_score</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="LinearDecayScore" class="doc_header"><code>class</code> <code>LinearDecayScore</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L203" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>LinearDecayScore</code>(<strong><code>pass_score</code></strong>, <strong><code>low_start</code></strong>, <strong><code>low_end</code></strong>, <strong><code>high_start</code></strong>, <strong><code>high_end</code></strong>, <strong><code>fail_score</code></strong>=<em><code>0.0</code></em>) :: <a href="/mrl/templates.html#ConstantScore"><code>ConstantScore</code></a></p>
</blockquote>
<p>LinearDecayScore - score with linear decay. <code>low_start&lt;low_end&lt;high_start&lt;high_end</code></p>
<p>Returns <code>pass_score</code> if <code>criteria_output=True</code> and
<code>low_end&lt;=property_output&lt;=high_start</code>. If <code>low_start&lt;=property_output&lt;=low_end</code> or
<code>high_start&lt;=property_output&lt;=high_end</code>, the score is a linear interpolation between <code>pass_score</code>
and <code>fail_score</code>. Otherwise, returns <code>fail_score</code>.</p>
<p>One of <code>low_end</code>, <code>high_start</code> must be not None.</p>
<p>If one of <code>low_end</code>, <code>high_start</code> is None, the corresponding bound is ignored</p>
<p>if <code>low_start</code> or <code>high_end</code> is None, the score immediately drops to <code>fail_score</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">score</span> <span class="o">=</span> <span class="n">LinearDecayScore</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span> <span class="n">fail_score</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">),[</span><span class="n">score</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">)])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&lt;matplotlib.lines.Line2D at 0x823db5160&gt;]</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">score</span> <span class="o">=</span> <span class="n">LinearDecayScore</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">fail_score</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">),[</span><span class="n">score</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">)])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&lt;matplotlib.lines.Line2D at 0x823f2dd68&gt;]</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYIAAAD4CAYAAADhNOGaAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuMywgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/Il7ecAAAACXBIWXMAAAsTAAALEwEAmpwYAAAd4klEQVR4nO3de5CU9Z3v8feHAVSUi1zkNiCoaAQjKCOamJtRDLJGNMfrSbLUbvZQ2dJsksrZXXNSm7N/bVnJyeac3fXEIolHU0mUwStm8YJkN0YTdRoFuakgXrpnBhhBB5TrMN/zRz9j2nEGZuhmnu7pz6uqq59r97cYpj/z/J5+vo8iAjMzq14D0i7AzMzS5SAwM6tyDgIzsyrnIDAzq3IOAjOzKjcw7QKOxujRo2PKlClpl2FmVlFWrVr1dkSM6by8IoNgypQpZDKZtMswM6sokt7sarmHhszMqpyDwMysyjkIzMyqnIPAzKzKOQjMzKpcSYJA0p2Stkta1816SfoXSZslvSTp/IJ18yS9kqy7tRT1mJlZz5XqiOAuYN5h1l8BTEsei4CfAEiqAW5P1k8HbpI0vUQ1mZlZD5TkOoKIeErSlMNssgD4ReR7Xj8raYSk8cAUYHNEbAGQdG+y7YZS1GXl6739bfz6uTd5b19b2qWYVZRrzq9l6ugTS/qafXVB2UQgWzCfS5Z1tfzCrl5A0iLyRxNMnjz52FRpfeLNHe/z336R4dVt7yGlXY1ZZTn/1JMrNgi6+nWPwyz/6MKIxcBigLq6Ot9Np0I9veltbv71CwD88msX8qlpo1OuyMz6KghywKSC+VqgCRjczXLrZyKCnz/9Ov+0fCNnnHISP/3zOk4dVdq/aszs6PRVECwDbknOAVwItEZEs6QWYJqkqUAjcCPwX/uoJusj+w4e4n88uJYHXmjkCzPG8qPrZ3HScRXZ5sqsXyrJb6Oke4DPAaMl5YD/CQwCiIg7gOXAfGAzsAf4i2Rdm6RbgMeBGuDOiFhfipqsPOx4bz9/eXeGNdl3+dZl0/ibz09jwACfGDArJ6X61tBNR1gfwM3drFtOPiisH7rjd6+xvrGVO74ym3nnjEu7HDPrgq8stmPmQFs7D7zQyGVnj3UImJUxB4EdM799eRs73j/A9RfUpl2KmR2Gg8COmfpMjrHDjuMz0z5yQyQzKyMOAjsmtrbu4z9f2c61s2sZWOP/ZmblzL+hdkzc/0KO9oDrZk868sZmlioHgZVcRLA0k+XCqSOZUuJL4c2s9BwEVnLPv76TN3bs4fo6Hw2YVQIHgZXckkyWk44byPyPj0+7FDPrAQeBldTufQdZvraZL86cwAmDa9Iux8x6wEFgJfXImmb2HWznhgs8LGRWKRwEVlL1mSxnjR3KzNrhaZdiZj3kILCSeXXbblZn3+W6ulrkO86YVQwHgZVMfUOWQTXimvMmpl2KmfWCg8BK4kBbOw+8mG8wN+qk49Iux8x6wUFgJfHbl7ex8/0DXO+TxGYVx0FgJbGkIcu4Yce7wZxZBSpJEEiaJ+kVSZsl3drF+r+VtDp5rJN0SNLIZN0bktYm6zKlqMf61tbWffzu1RaunV1Lje8+ZlZxir5DmaQa4HZgLvmb1DdIWhYRGzq2iYgfAj9Mtv8i8O2I2FnwMpdExNvF1mLp+KDBXJ3vO2BWiUpxRDAH2BwRWyLiAHAvsOAw298E3FOC97Uy0N4e1GeyXHTaSE4d5QZzZpWoFEEwEcgWzOeSZR8haQgwD7i/YHEAT0haJWlRd28iaZGkjKRMS0tLCcq2Unj+jZ28uWOPryQ2q2ClCIKuBoWjm22/CDzTaVjo4og4H7gCuFnSZ7raMSIWR0RdRNSNGeMTkuWiviHL0OMGMm+GG8yZVapSBEEOKPxzsBZo6mbbG+k0LBQRTcnzduBB8kNNVgF27TvI8nXNXDXLDebMKlkpgqABmCZpqqTB5D/sl3XeSNJw4LPAwwXLTpQ0tGMauBxYV4KarA88sqaJfQfbfd8BswpX9LeGIqJN0i3A40ANcGdErJf09WT9Hcmm1wBPRMT7BbuPBR5M+tIMBH4dEY8VW5P1jfpMjo+NG8q5bjBnVtGKDgKAiFgOLO+07I5O83cBd3VatgWYWYoarG+9snU3a7Lv8g9XTneDObMK5yuL7ajUZ9xgzqy/cBBYrx1oa+fBFxuZO30sI08cnHY5ZlYkB4H12sqNSYM5nyQ26xccBNZrSzJZxg8/nk+7wZxZv+AgsF5pbt3LU24wZ9avOAisV+5flTSYm+1hIbP+wkFgPZZvMJfjotNGMnnUkLTLMbMScRBYjz33+k7e2ukGc2b9jYPAeqw+k2Xo8QO54hw3mDPrTxwE1iO79h1k+dpmFsyawPGD3GDOrD9xEFiPLFvdxP42N5gz648cBNYjSzNZPjZuKB+f6AZzZv2Ng8CO6OWtu1iTa+X6ukluMGfWDzkI7IjqG3IMrhngBnNm/ZSDwA5rf9shHnwxx9zpYznZDebM+iUHgR3Wyo3beWfPQa73tQNm/VZJgkDSPEmvSNos6dYu1n9OUquk1cnj+z3d19K1pCHLhOHH86kzRqddipkdI0XfoUxSDXA7MJf8jewbJC2LiA2dNv19RFx5lPtaCpre3ctTm1r4xiVnuMGcWT9WiiOCOcDmiNgSEQeAe4EFfbCvHWP3r8oRAde6wZxZv1aKIJgIZAvmc8myzj4haY2kRyXN6OW+SFokKSMp09LSUoKy7XDa24Olq3J88vRRbjBn1s+VIgi6GjOITvMvAKdGxEzgX4GHerFvfmHE4oioi4i6MWN8Q5Rj7dnXd/DWzj2+ktisCpQiCHJA4adFLdBUuEFE7IqI95Lp5cAgSaN7sq+lo74h32Bu3jnj0i7FzI6xUgRBAzBN0lRJg4EbgWWFG0gap+SSVElzkvfd0ZN9re+17j3Io+u2usGcWZUo+ltDEdEm6RbgcaAGuDMi1kv6erL+DuBa4K8ltQF7gRsjIoAu9y22JivOsjX5BnM31E1OuxQz6wPKfx5Xlrq6ushkMmmX0W9d9W9Pc6CtnUe/+Wn3FjLrRyStioi6zst9ZbF9yMbmXbyUa+WGC9xgzqxaOAjsQ+ozWQbXDODqWW4wZ1YtHAT2gXyDuUbmznCDObNq4iCwD6zYsI139xzkBl87YFZVHAT2gfpMjgnDj+diN5gzqyoOAgOg8d29/H5TC9fWTXKDObMq4yAw4E8N5q6bXZt2KWbWxxwERnt7UJ/JcvEZo5g00g3mzKqNg8D445Yd5N7Z6wZzZlXKQWDUZ7IMO34gX5jhBnNm1chBUOVa93Q0mJvoBnNmVcpBUOWWrWnkQFs7N/jm9GZVy0FQ5ZZkspw9fhgzJgxLuxQzS4mDoIqtb2plXeMubqirdYM5syrmIKhiSzM5BtcMYIEbzJlVtZIEgaR5kl6RtFnSrV2s/7Kkl5LHHyTNLFj3hqS1klZL8k0G+si+g/kGc5e7wZxZ1Sv6DmWSaoDbgbnk70HcIGlZRGwo2Ox14LMR8Y6kK4DFwIUF6y+JiLeLrcV6bsWGbbTuPeiTxGZWkiOCOcDmiNgSEQeAe4EFhRtExB8i4p1k9lnyN6m3FNVnskwccQIXn+4Gc2bVrhRBMBHIFsznkmXd+RrwaMF8AE9IWiVpUXc7SVokKSMp09LSUlTB1S73zh6e3vw2186uZYAbzJlVvaKHhoCuPkm6vBGypEvIB8GnChZfHBFNkk4BVkh6OSKe+sgLRiwmP6REXV1d5d1ouYzctyoHwLVuMGdmlOaIIAcUDjTXAk2dN5J0LvAzYEFE7OhYHhFNyfN24EHyQ012jLS3B0szOS4+fbQbzJkZUJogaACmSZoqaTBwI7CscANJk4EHgK9GxKsFy0+UNLRjGrgcWFeCmqwbf3htB43v7uW6Oh8NmFle0UNDEdEm6RbgcaAGuDMi1kv6erL+DuD7wCjg/yYXLrVFRB0wFngwWTYQ+HVEPFZsTdY9N5gzs85KcY6AiFgOLO+07I6C6b8C/qqL/bYAMzsvt2Ojdc9BHlu/lRsvmOQGc2b2AV9ZXEUeThrM+b4DZlbIQVBFljRkmT5+GOdMHJ52KWZWRhwEVWJdYyvrm3b5SmIz+wgHQZVYmskyeOAAFsyakHYpZlZmHARVYN/BQzy0uokvzBjHiCFuMGdmH+YgqAJPJA3mrve1A2bWBQdBFahvcIM5M+ueg6Cfy+7cwzOvvc11dW4wZ2ZdcxD0c24wZ2ZH4iDox9rbg/tW5fjUGaOpPdkN5sysaw6CfuyZ195OGsz52gEz656DoB+rz+QYfsIgLp8+Nu1SzKyMOQj6qXf3HODx9Vu5etYEN5gzs8NyEPRTD69uyjeYc0sJMzsCB0E/taQhy4wJw5gxwQ3mzOzwHAT90LrGVjY0u8GcmfVMSYJA0jxJr0jaLOnWLtZL0r8k61+SdH5P97Xeq+9oMDdzYtqlmFkFKDoIJNUAtwNXANOBmyRN77TZFcC05LEI+Ekv9rVe2HfwEA+92Mi8GeMYPmRQ2uWYWQUoxRHBHGBzRGyJiAPAvcCCTtssAH4Rec8CIySN7+G+1guPr9/Krn1tvguZmfVYKYJgIpAtmM8ly3qyTU/2BUDSIkkZSZmWlpaii+6v6jP5BnOfPH1U2qWYWYUoRRB01ckserhNT/bNL4xYHBF1EVE3ZsyYXpZYHbI79/DM5h1uMGdmvTKwBK+RAwrHIWqBph5uM7gH+1oPLV2VQ8ItJcysV0pxRNAATJM0VdJg4EZgWadtlgF/nnx76CKgNSKae7iv9cCh9uC+TJZPnTGaiSNOSLscM6sgRR8RRESbpFuAx4Ea4M6IWC/p68n6O4DlwHxgM7AH+IvD7VtsTdXomc1v09S6j+/OPzvtUsyswpRiaIiIWE7+w75w2R0F0wHc3NN9rffqM1lGDBnE5TPcYM7MesdXFvcD77x/gCfWb+PqWRM5bqAbzJlZ7zgI+oGHVzdy4FC7rx0ws6PiIKhwEcGSTI6PTxzO9AnD0i7HzCqQg6DCrW/axcbmXVxf53sSm9nRcRBUuCUNWY4bOICrZrnBnJkdHQdBBdt38BAPr25k3jnjGH6CG8yZ2dFxEFSwjgZzN/gksZkVwUFQwZY0ZJk08gQuOs0N5szs6DkIKlR25x7+8NoOrps9yQ3mzKwoDoIKtTSTRYJrZ/vbQmZWHAdBBTrUHty3Ksenp41hghvMmVmRHAQV6OmkwZxPEptZKTgIKlB9JsvJQwZx2fRT0i7FzPoBB0GFeef9A6xYv42rz3ODOTMrDQdBhXkoaTB3wwUeFjKz0nAQVJCIYElDlnNrh/OxcW4wZ2alUVQQSBopaYWkTcnzyV1sM0nSf0jaKGm9pG8WrPtHSY2SVieP+cXU09+ta9zFy1t3u920mZVUsUcEtwIrI2IasDKZ76wN+E5EnA1cBNwsaXrB+h9HxKzk4TuVHcaSzFscN3AAX5w5Ie1SzKwfKTYIFgB3J9N3A1d33iAimiPihWR6N7ARcKvMXso3mGti/sfHu8GcmZVUsUEwNiKaIf+BDxz2+4ySpgDnAc8VLL5F0kuS7uxqaKlg30WSMpIyLS0tRZZdeR5bt5Xd+9q4zvcdMLMSO2IQSHpS0rouHgt680aSTgLuB74VEbuSxT8BTgdmAc3Aj7rbPyIWR0RdRNSNGTOmN2/dL9RnskweOYSLprrBnJmV1sAjbRARl3W3TtI2SeMjolnSeGB7N9sNIh8Cv4qIBwpee1vBNj8FftOb4qvFWzvyDea+M/dMN5gzs5IrdmhoGbAwmV4IPNx5A0kCfg5sjIh/7rRufMHsNcC6Iuvpl5auShrMeVjIzI6BYoPgNmCupE3A3GQeSRMkdXwD6GLgq8Dnu/ia6A8krZX0EnAJ8O0i6+l3OhrMfWbaGMYPd4M5Myu9Iw4NHU5E7AAu7WJ5EzA/mX4a6HI8IyK+Wsz7V4Pfb2qhuXUf/3Dl9CNvbGZ2FHxlcZlbmslx8pBBXHq2G8yZ2bHhIChjO98/wBMbtnLNebVuMGdmx4yDoIw99GIjBw+FG8yZ2THlIChTEUF9JsvM2uGcNW5o2uWYWT/mIChTaxtbeXnrbq5zgzkzO8YcBGVqSUOW4wcN4KpZbjBnZseWg6AM7T1wiGWrm5h/zniGHe8Gc2Z2bDkIytBj65vZvb/Nw0Jm1iccBGWoviHHqaOGcNFpI9MuxcyqgIOgzLy5433+uGUH182uJd+myczs2HIQlJn7VuUYIPgvs91gzsz6hoOgjHzQYO5MN5gzs77jICgjTyUN5m7wSWIz60MOgjKyNJNl5ImDufTssWmXYmZVxEFQJna8t58VG7ZxzXkTGTzQPxYz6ztFfeJIGilphaRNyXOXN5+X9EZyA5rVkjK93b8aPLS6iYOHgus9LGRmfazYPz1vBVZGxDRgZTLfnUsiYlZE1B3l/v1WRFDfkGXmpBFuMGdmfa7YIFgA3J1M3w1c3cf79wsv5Vp5ZdtunyQ2s1QUGwRjI6IZIHnu7jZaATwhaZWkRUexP5IWScpIyrS0tBRZdnlZksk3mLty5vi0SzGzKnTEexZLehIY18Wq7/XifS6OiCZJpwArJL0cEU/1Yn8iYjGwGKCuri56s28523vgEI+sbmL+x91gzszSccQgiIjLulsnaZuk8RHRLGk8sL2b12hKnrdLehCYAzwF9Gj//uzRdfkGcz5JbGZpKXZoaBmwMJleCDzceQNJJ0oa2jENXA6s6+n+/V19JsuUUUO4cKobzJlZOooNgtuAuZI2AXOTeSRNkLQ82WYs8LSkNcDzwL9HxGOH279avLnjfZ7dspPr6ia5wZyZpeaIQ0OHExE7gEu7WN4EzE+mtwAze7N/tViaSRrMne8Gc2aWHl/CmpKOBnOfPXMM44Yfn3Y5ZlbFHAQpeWpTC1t37eOGC3yS2MzS5SBISX1DllEnDubzH3ODOTNLl4MgBTve28+TG91gzszKgz+FUvDgi435BnMeFjKzMuAg6GMRQX0my6xJIzhzrBvMmVn6HAR9bE2ulVe3vecric2sbDgI+tiShiwnDKrhi24wZ2ZlwkHQh/YeOMQja/IN5oa6wZyZlQkHQR9avraZ9/a3cX2dryQ2s/LhIOhDHQ3m5rjBnJmVEQdBH3nj7fd57nU3mDOz8uMg6CNLV2UZILh2toeFzKy8OAj6QNuhdu5bleNzZ53C2GFuMGdm5cVB0Aee2tTCtl37fe2AmZUlB0EfqG/IJQ3mTkm7FDOzjygqCCSNlLRC0qbk+eQutjlL0uqCxy5J30rW/aOkxoJ184uppxy9nTSY+9L5bjBnZuWp2E+mW4GVETENWJnMf0hEvBIRsyJiFjAb2AM8WLDJjzvWR8TyzvtXuodebKStPTwsZGZlq9ggWADcnUzfDVx9hO0vBV6LiDeLfN+KEBEsachy3uQRTHODOTMrU8UGwdiIaAZIno80CH4jcE+nZbdIeknSnV0NLXWQtEhSRlKmpaWluKr7yOrsu2za7gZzZlbejhgEkp6UtK6Lx4LevJGkwcBVwNKCxT8BTgdmAc3Aj7rbPyIWR0RdRNSNGTOmN2+dmvpMvsHclee6wZyZla+BR9ogIi7rbp2kbZLGR0SzpPHA9sO81BXACxGxreC1P5iW9FPgNz0ru/ztOdDGI2ua+bNz3WDOzMpbsUNDy4CFyfRC4OHDbHsTnYaFkvDocA2wrsh6ysbytVuTBnMeFjKz8lZsENwGzJW0CZibzCNpgqQPvgEkaUiy/oFO+/9A0lpJLwGXAN8usp6yUd+QZeroE7lgSrenPczMysIRh4YOJyJ2kP8mUOflTcD8gvk9wKgutvtqMe9frra0vMfzb+zk7+ad5QZzZlb2fIXTMbB0VY6aAeLa891gzszKn4OgxNoOtXP/qhyfO3MMp7jBnJlVAAdBif3u1Ra2797P9Rf4JLGZVQYHQYktacgy+iQ3mDOzyuEgKKHm1r08uXEb186exKAa/9OaWWXwp1UJ3fN8lgC+fOHktEsxM+sxB0GJHDzUzr3Pv8VnzxzDpJFD0i7HzKzHHAQl8uSGbWzfvZ+vXHhq2qWYmfWKg6BEfvncm0wccQKX+CSxmVUYB0EJbGl5j2c27+CmOZOoGeAric2ssjgISuBXz73FwAHytQNmVpEcBEXad/AQ963K8YVzxnHKUF9JbGaVx0FQpEfWNNG696BPEptZxXIQFOmXz73FGaecxEWnjUy7FDOzo+IgKMLaXCtrsu/ylQsnu920mVUsB0ERfvnsm5wwqIYvzXa7aTOrXEUFgaTrJK2X1C6p7jDbzZP0iqTNkm4tWD5S0gpJm5LnirmdV+vegzy8ppEFsyYwzPckNrMKVuwRwTrgS8BT3W0gqQa4nfzN66cDN0manqy+FVgZEdOAlcl8RXjghRz7DrbzlYt8ktjMKluxt6rcCBxpfHwOsDkitiTb3gssADYkz59Ltrsb+E/g74up6XD+deUmlq1pKslrNbfuY+akEZwzcXhJXs/MLC1FBUEPTQSyBfM54MJkemxENANERLOkbvszSFoELAKYPPnounuOGXoc08aedFT7dnbm2KEs/OSUkryWmVmajhgEkp4ExnWx6nsR8XAP3qOrw4XowX4f3iFiMbAYoK6urtf7A9w4ZzI3znGLaDOzQkcMgoi4rMj3yAGFvRdqgY7xmW2SxidHA+OB7UW+l5mZ9VJffH20AZgmaaqkwcCNwLJk3TJgYTK9EOjJEYaZmZVQsV8fvUZSDvgE8O+SHk+WT5C0HCAi2oBbgMeBjUB9RKxPXuI2YK6kTcDcZN7MzPqQIo5quD1VdXV1kclk0i7DzKyiSFoVER+55stXFpuZVTkHgZlZlXMQmJlVOQeBmVmVq8iTxZJagDePcvfRwNslLKdUXFfvuK7ecV29U651QXG1nRoRYzovrMggKIakTFdnzdPmunrHdfWO6+qdcq0Ljk1tHhoyM6tyDgIzsypXjUGwOO0CuuG6esd19Y7r6p1yrQuOQW1Vd47AzMw+rBqPCMzMrICDwMysylVVEEiaJ+kVSZsllcX9kSVNkvQfkjZKWi/pm2nXVEhSjaQXJf0m7Vo6SBoh6T5JLyf/bp9IuyYASd9OfobrJN0j6fiU6rhT0nZJ6wqWjZS0QtKm5PnkMqnrh8nP8SVJD0oaUQ51Faz775JC0uhyqUvSN5LPsfWSflCK96qaIJBUA9wOXAFMB26SND3dqgBoA74TEWcDFwE3l0ldHb5Jvn14Ofk/wGMR8TFgJmVQn6SJwN8AdRFxDlBD/t4babgLmNdp2a3AyoiYBqxM5vvaXXy0rhXAORFxLvAq8N2+Loqu60LSJPLt8d/q64ISd9GpLkmXkL/X+7kRMQP4X6V4o6oJAmAOsDkitkTEAeBe8v+gqYqI5oh4IZneTf5DbWK6VeVJqgX+DPhZ2rV0kDQM+Azwc4CIOBAR76Za1J8MBE6QNBAYwp/uxNenIuIpYGenxQuAu5Ppu4Gr+7Im6LquiHgiuWcJwLPk72CYel2JHwN/x1HcWrcUuqnrr4HbImJ/sk1J7upYTUEwEcgWzOcokw/cDpKmAOcBz6VcSof/Tf4XoT3lOgqdBrQA/y8ZsvqZpBPTLioiGsn/dfYW0Ay0RsQT6Vb1IWMjohnyf3wAp6RcT1f+Eng07SIAJF0FNEbEmrRr6eRM4NOSnpP0O0kXlOJFqykI1MWysvnurKSTgPuBb0XErjKo50pge0SsSruWTgYC5wM/iYjzgPdJZ5jjQ5Ix9wXAVGACcKKkr6RbVeWQ9D3yw6S/KoNahgDfA76fdi1dGAicTH4Y+W+Bekldfbb1SjUFQQ6YVDBfS0qH7p1JGkQ+BH4VEQ+kXU/iYuAqSW+QH0b7vKRfplsSkP855iKi46jpPvLBkLbLgNcjoiUiDgIPAJ9MuaZC2ySNB0ieSzKkUAqSFgJXAl+O8riw6XTygb4m+f9fC7wgaVyqVeXlgAci73nyR+tFn8iupiBoAKZJmippMPkTectSrokkzX8ObIyIf067ng4R8d2IqI2IKeT/rX4bEan/hRsRW4GspLOSRZcCG1IsqcNbwEWShiQ/00spg5PYBZYBC5PphcDDKdbyAUnzgL8HroqIPWnXAxARayPilIiYkvz/zwHnJ//30vYQ8HkASWcCgylBl9SqCYLkhNQtwOPkf0HrI2J9ulUB+b+8v0r+L+7VyWN+2kWVuW8Av5L0EjAL+Kd0y4HkCOU+4AVgLfnfrVTaFEi6B/gjcJaknKSvAbcBcyVtIv9NmNvKpK5/A4YCK5L/+3eUSV2p66auO4HTkq+U3gssLMVRlFtMmJlVuao5IjAzs645CMzMqpyDwMysyjkIzMyqnIPAzKzKOQjMzKqcg8DMrMr9fwU//mWgW3ZiAAAAAElFTkSuQmCC
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Filter-Functions">Filter Functions<a class="anchor-link" href="#Filter-Functions"> </a></h2><p>Filter functions bundle a <a href="/mrl/templates.html#PropertyFunction"><code>PropertyFunction</code></a> with a <a href="/mrl/templates.html#ScoreFunction"><code>ScoreFunction</code></a>. Property functions</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="FilterFunction" class="doc_header"><code>class</code> <code>FilterFunction</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L293" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>FilterFunction</code>(<strong><code>property_function</code></strong>, <strong><code>score_function</code></strong>, <strong><code>name</code></strong>=<em><code>None</code></em>, <strong><code>fail_score</code></strong>=<em><code>0.0</code></em>)</p>
</blockquote>
<p>FilterFunction - base filter function class</p>
<p>Inputs:
    <code>property_function</code> - subclass of <a href="/mrl/templates.html#PropertyFunction"><code>PropertyFunction</code></a>
    <code>score_function</code> - one of (None, int, float, ScoreFunction), see <code>set_score</code>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SmartsMatch.from_smarts" class="doc_header"><code>SmartsMatch.from_smarts</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L117" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SmartsMatch.from_smarts</code>(<strong><code>smarts</code></strong>, <strong><code>crit</code></strong>=<em><code>'any'</code></em>)</p>
</blockquote>
<p>Returns a <a href="/mrl/templates.html#SmartsMatch"><code>SmartsMatch</code></a> object with a <a href="/mrl/chem.html#SmartsCatalog"><code>SmartsCatalog</code></a> from the given <code>smarts</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="PropertyFilter" class="doc_header"><code>class</code> <code>PropertyFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L352" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>PropertyFilter</code>(<strong><code>mol_function</code></strong>, <strong><code>min_val</code></strong>, <strong><code>max_val</code></strong>, <strong><code>score</code></strong>, <strong><code>fail_score</code></strong>=<em><code>0.0</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#FilterFunction"><code>FilterFunction</code></a></p>
</blockquote>
<p>PropertyFilter - filters mols based on <code>mol_function</code></p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> object and returns a single numeric value
    <code>min_val</code> - (None, int, float), lower bound for filter (ignored if None)
    <code>max_val</code> - (None, int, float), upper bound for filter (ignored if None)
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="MolWtFilter" class="doc_header"><code>class</code> <code>MolWtFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L373" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>MolWtFilter</code>(<strong><code>min_val</code></strong>, <strong><code>max_val</code></strong>, <strong><code>score</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#PropertyFilter"><code>PropertyFilter</code></a></p>
</blockquote>
<p>PropertyFilter - filters mols based on <code>mol_function</code></p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> object and returns a single numeric value
    <code>min_val</code> - (None, int, float), lower bound for filter (ignored if None)
    <code>max_val</code> - (None, int, float), upper bound for filter (ignored if None)
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="HBDFilter" class="doc_header"><code>class</code> <code>HBDFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L377" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>HBDFilter</code>(<strong><code>min_val</code></strong>, <strong><code>max_val</code></strong>, <strong><code>score</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#PropertyFilter"><code>PropertyFilter</code></a></p>
</blockquote>
<p>PropertyFilter - filters mols based on <code>mol_function</code></p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> object and returns a single numeric value
    <code>min_val</code> - (None, int, float), lower bound for filter (ignored if None)
    <code>max_val</code> - (None, int, float), upper bound for filter (ignored if None)
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="HBAFilter" class="doc_header"><code>class</code> <code>HBAFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L381" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>HBAFilter</code>(<strong><code>min_val</code></strong>, <strong><code>max_val</code></strong>, <strong><code>score</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#PropertyFilter"><code>PropertyFilter</code></a></p>
</blockquote>
<p>PropertyFilter - filters mols based on <code>mol_function</code></p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> object and returns a single numeric value
    <code>min_val</code> - (None, int, float), lower bound for filter (ignored if None)
    <code>max_val</code> - (None, int, float), upper bound for filter (ignored if None)
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TPSAPFilter" class="doc_header"><code>class</code> <code>TPSAPFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L385" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TPSAPFilter</code>(<strong><code>min_val</code></strong>, <strong><code>max_val</code></strong>, <strong><code>score</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#PropertyFilter"><code>PropertyFilter</code></a></p>
</blockquote>
<p>PropertyFilter - filters mols based on <code>mol_function</code></p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> object and returns a single numeric value
    <code>min_val</code> - (None, int, float), lower bound for filter (ignored if None)
    <code>max_val</code> - (None, int, float), upper bound for filter (ignored if None)
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RotBondFilter" class="doc_header"><code>class</code> <code>RotBondFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L389" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RotBondFilter</code>(<strong><code>min_val</code></strong>, <strong><code>max_val</code></strong>, <strong><code>score</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#PropertyFilter"><code>PropertyFilter</code></a></p>
</blockquote>
<p>PropertyFilter - filters mols based on <code>mol_function</code></p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> object and returns a single numeric value
    <code>min_val</code> - (None, int, float), lower bound for filter (ignored if None)
    <code>max_val</code> - (None, int, float), upper bound for filter (ignored if None)
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="SP3Filter" class="doc_header"><code>class</code> <code>SP3Filter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L393" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>SP3Filter</code>(<strong><code>min_val</code></strong>, <strong><code>max_val</code></strong>, <strong><code>score</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#PropertyFilter"><code>PropertyFilter</code></a></p>
</blockquote>
<p>PropertyFilter - filters mols based on <code>mol_function</code></p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> object and returns a single numeric value
    <code>min_val</code> - (None, int, float), lower bound for filter (ignored if None)
    <code>max_val</code> - (None, int, float), upper bound for filter (ignored if None)
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="LogPFilter" class="doc_header"><code>class</code> <code>LogPFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L397" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>LogPFilter</code>(<strong><code>min_val</code></strong>, <strong><code>max_val</code></strong>, <strong><code>score</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#PropertyFilter"><code>PropertyFilter</code></a></p>
</blockquote>
<p>PropertyFilter - filters mols based on <code>mol_function</code></p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> object and returns a single numeric value
    <code>min_val</code> - (None, int, float), lower bound for filter (ignored if None)
    <code>max_val</code> - (None, int, float), upper bound for filter (ignored if None)
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RingFilter" class="doc_header"><code>class</code> <code>RingFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L401" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RingFilter</code>(<strong><code>min_val</code></strong>, <strong><code>max_val</code></strong>, <strong><code>score</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#PropertyFilter"><code>PropertyFilter</code></a></p>
</blockquote>
<p>PropertyFilter - filters mols based on <code>mol_function</code></p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> object and returns a single numeric value
    <code>min_val</code> - (None, int, float), lower bound for filter (ignored if None)
    <code>max_val</code> - (None, int, float), upper bound for filter (ignored if None)
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="HeteroatomFilter" class="doc_header"><code>class</code> <code>HeteroatomFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L405" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>HeteroatomFilter</code>(<strong><code>min_val</code></strong>, <strong><code>max_val</code></strong>, <strong><code>score</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#PropertyFilter"><code>PropertyFilter</code></a></p>
</blockquote>
<p>PropertyFilter - filters mols based on <code>mol_function</code></p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> object and returns a single numeric value
    <code>min_val</code> - (None, int, float), lower bound for filter (ignored if None)
    <code>max_val</code> - (None, int, float), upper bound for filter (ignored if None)
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AromaticRingFilter" class="doc_header"><code>class</code> <code>AromaticRingFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L409" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AromaticRingFilter</code>(<strong><code>min_val</code></strong>, <strong><code>max_val</code></strong>, <strong><code>score</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/mrl/templates.html#PropertyFilter"><code>PropertyFilter</code></a></p>
</blockquote>
<p>PropertyFilter - filters mols based on <code>mol_function</code></p>
<p>Inputs:
    <code>mol_function</code> - any function that takes as input a <code>Mol</code> object and returns a single numeric value
    <code>min_val</code> - (None, int, float), lower bound for filter (ignored if None)
    <code>max_val</code> - (None, int, float), upper bound for filter (ignored if None)
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="StructureFilter" class="doc_header"><code>class</code> <code>StructureFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L416" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>StructureFilter</code>(<strong><code>smarts</code></strong>, <strong><code>score</code></strong>, <strong><code>exclude</code></strong>=<em><code>True</code></em>, <strong><code>criteria</code></strong>=<em><code>'any'</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>, <strong><code>fail_score</code></strong>=<em><code>0.0</code></em>) :: <a href="/mrl/templates.html#FilterFunction"><code>FilterFunction</code></a></p>
</blockquote>
<p>StructureFilter - filters mols based on structures in <code>smarts</code></p>
<p>Inputs:
    <code>smarts</code> - (list, SmartsCatalog), list of smarts strings for filtering or <a href="/mrl/chem.html#SmartsCatalog"><code>SmartsCatalog</code></a>
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>exclude</code> - if True, filter returns <code>False</code> when a structure match is found
    <code>criteria</code> - ('any', 'all'), match criteria (match any filter, match all filters)
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="FPFilter" class="doc_header"><code>class</code> <code>FPFilter</code><a href="https://github.com/DarkMatterAI/mrl/tree/main/mrl/templates.py#L447" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>FPFilter</code>(<strong><code>reference_smiles</code></strong>, <strong><code>score</code></strong>, <strong><code>fp_type</code></strong>, <strong><code>fp_metric</code></strong>, <strong><code>criteria</code></strong>=<em><code>'any'</code></em>, <strong><code>fp_thresh</code></strong>=<em><code>0.0</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>, <strong><code>fail_score</code></strong>=<em><code>0.0</code></em>) :: <a href="/mrl/templates.html#FilterFunction"><code>FilterFunction</code></a></p>
</blockquote>
<p>FPFilter - filters mols based on fingerprint similarity to <code>reference_smiles</code></p>
<p>Inputs:
    <code>reference_smiles</code> - (list), list of smiles or <code>Mol</code> objects for comparison
    <code>score</code> - one of (None, int, float, ScoreFunction), see <a href="/mrl/templates.html#FilterFunction.set_score"><code>FilterFunction.set_score</code></a>
    <code>fp_type</code> - fingerprint function. see <a href="/mrl/chem.html#FP"><code>FP</code></a>
    <code>fp_metric</code> - fingerprint similarity metric. see <a href="/mrl/chem.html#FP"><code>FP</code></a>
    <code>criteria</code> - ('any', 'all'), match criteria (match any reference, match all references)
    <code>fp_thresh</code> - float, fingerprint similarity cutoff for defining a match
    <code>name</code> - (str, None), filter name used for repr
    <code>fail_score</code> - (float, int), used in <code>set_score</code> if <code>score_function</code> is (int, float)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f1</span> <span class="o">=</span> <span class="n">StructureFilter</span><span class="p">(</span><span class="n">smarts</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">criteria</span><span class="o">=</span><span class="s1">&#39;any&#39;</span><span class="p">)</span>
<span class="n">f2</span> <span class="o">=</span> <span class="n">PropertyFilter</span><span class="p">(</span><span class="n">heteroatoms</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">f3</span> <span class="o">=</span> <span class="n">FPFilter</span><span class="p">(</span><span class="n">smiles</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ECFP6&#39;</span><span class="p">,</span> <span class="s1">&#39;tanimoto&#39;</span><span class="p">,</span> <span class="n">criteria</span><span class="o">=</span><span class="s1">&#39;any&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f1</span><span class="p">(</span><span class="n">mols</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[1, 0.0, 0.0, 0.0]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f2</span><span class="p">(</span><span class="n">mols</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[0.0, 1, 1, 1]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f3</span><span class="p">(</span><span class="n">mols</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[1, 1, 1, 1]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f4</span> <span class="o">=</span> <span class="n">HeteroatomFilter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f4</span><span class="p">(</span><span class="n">mols</span><span class="p">,</span> <span class="n">with_score</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[False, True, True, True]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Templates">Templates<a class="anchor-link" href="#Templates"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Template</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hard_filters</span><span class="p">,</span> <span class="n">soft_filters</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hard_filters</span> <span class="o">=</span> <span class="n">hard_filters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">soft_filters</span> <span class="o">=</span> <span class="n">soft_filters</span> <span class="k">if</span> <span class="n">soft_filters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">hard_filters</span>
        
    <span class="k">def</span> <span class="nf">hf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mol</span><span class="p">,</span> <span class="n">agg</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">):</span>
        <span class="n">mol</span> <span class="o">=</span> <span class="n">to_mol</span><span class="p">(</span><span class="n">mol</span><span class="p">)</span>
        
        <span class="n">outputs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">filt</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">hard_filtes</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">filt</span><span class="p">(</span><span class="n">mol</span><span class="p">,</span> <span class="n">with_score</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">agg</span><span class="o">==</span><span class="s1">&#39;all&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
                <span class="k">break</span>
                
        <span class="k">if</span> <span class="n">agg</span><span class="o">==</span><span class="s1">&#39;all&#39;</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">agg</span><span class="o">==</span><span class="s1">&#39;any&#39;</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">output</span>
            
        <span class="k">return</span> <span class="n">output</span>
    
    <span class="k">def</span> <span class="nf">sf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mol</span><span class="p">):</span>
        <span class="n">mol</span> <span class="o">=</span> <span class="n">to_mol</span><span class="p">(</span><span class="n">mol</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="mf">0.</span>
        
        <span class="k">for</span> <span class="n">filt</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">soft_filters</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">+=</span> <span class="n">filt</span><span class="p">(</span><span class="n">mol</span><span class="p">,</span> <span class="n">with_score</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">output</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>templates should add together</p>
<p>subclass generic poperrty filters</p>
<p>subclass generic MPO templates</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>End goal is template</p>
<p>templates have hard/soft filters</p>
<p>hard used for pass/fail, soft used to score passes</p>
<p>filters are composed of two inputs, propery function and score function</p>
<p>property functions compute some property of a molecule, and assign a true/false pass/fail criteria</p>
<p>score functions assign numeric values for passing compounds</p>

</div>
</div>
</div>
</div>
 

